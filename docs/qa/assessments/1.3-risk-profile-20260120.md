# Risk Profile: Story 1.3 - Chargeur de plugins (Hot-Reload)

Date: 20 Janvier 2026
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 3
- Critical Risks: 0
- High Risks: 1
- Risk Score: 75/100

## Critical Risks Requiring Immediate Attention

*Aucun risque critique (Score 9) identifié à ce stade, mais une vigilance High est requise sur la stabilité.*

## Detailed Risk Register

| Risk ID  | Description             | Probability | Impact     | Score | Priority |
| -------- | ----------------------- | ----------- | ---------- | ----- | -------- |
| OPS-001  | Crash sur YAML invalide | Medium (2)  | High (3)   | 6     | High     |
| TECH-002 | Watchdog Resource Loop  | Low (1)     | Medium (2) | 2     | Low      |
| SEC-002  | Injection via YAML      | Low (1)     | High (3)   | 3     | Low      |

### Focus: OPS-001 (Crash sur YAML invalide)
- **Score: 6 (High)**
- **Scenario:** L'utilisateur modifie un fichier `expert.yaml` en live et fait une erreur de syntaxe. Le parser plante et fait tomber tout le conteneur H-Core.
- **Mitigation:**
    - Bloc `try/except` strict autour du parsing YAML.
    - Validation par schéma (Pydantic/Cerberus) avant chargement.
    - Si erreur : Logger, ignorer le fichier, et continuer à tourner.

## Risk-Based Testing Strategy

### Priority 1: Stability Tests (High Risk)
- **Test de robustesse :** Injecter des fichiers vides, corrompus, ou avec des clés manquantes dans le dossier `agents/` pendant l'exécution.
- Vérifier que le processus H-Core ne redémarre pas.

### Priority 2: Resource Usage (Low Risk)
- Vérifier que le `FileWatcher` ne déclenche pas des événements en boucle infinie (CPU spike) si un fichier est touché rapidement plusieurs fois.

## Monitoring Requirements
- Log niveau ERROR si un plugin échoue au chargement.
