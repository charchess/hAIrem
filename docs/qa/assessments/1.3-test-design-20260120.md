# Test Design: Story 1.3 - Chargeur de plugins (Hot-Reload)

Date: 20 Janvier 2026
Designer: Quinn (Test Architect)

## Test Strategy Overview

- Total test scenarios: 6
- Unit tests: 3 (Parsing YAML & Validation)
- Integration tests: 3 (FileSystem Watcher)
- E2E tests: 0
- Priority distribution: P0: 4, P1: 2

## Test Scenarios by Acceptance Criteria

### AC1: Surveillance du dossier agents/

#### Scenarios

| ID           | Level       | Priority | Test                      | Justification            |
| ------------ | ----------- | -------- | ------------------------- | ------------------------ |
| 1.3-INT-001 | Integration | P0       | Détecter nouveau fichier  | Validation watchdog |
| 1.3-INT-002 | Integration | P1       | Détecter modification     | Hot-reload check |

### AC2 & AC3: Parsing et Chargement en mémoire

#### Scenarios

| ID           | Level       | Priority | Test                      | Justification            |
| ------------ | ----------- | -------- | ------------------------- | ------------------------ |
| 1.3-UNIT-001 | Unit        | P0       | Parse YAML valide         | Logique de lecture |
| 1.3-UNIT-002 | Unit        | P0       | Valider schéma obligatoire| Conformité H-Core |
| 1.3-INT-003 | Integration | P0       | Enregistrement Registry   | Disponibilité dans le noyau |

### AC4: Gestion des erreurs YAML

#### Scenarios

| ID           | Level       | Priority | Test                      | Justification            |
| ------------ | ----------- | -------- | ------------------------- | ------------------------ |
| 1.3-UNIT-003 | Unit        | P1       | YAML invalide (Syntaxe)   | Robustesse du système |

## Recommended Execution Order

1. 1.3-UNIT-001 (Parsing)
2. 1.3-UNIT-002 (Schéma)
3. 1.3-INT-001 (Détection)
4. 1.3-INT-003 (Registry)
