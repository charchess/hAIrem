# Risk Profile: Story 8.3 - Vector Embeddings & Semantic Search (RAG)

Date: 2026-01-23
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 3
- Critical Risks: 0
- High Risks: 0
- Risk Score: 90/100

## Detailed Risk Register

| Risk ID | Description | Category | Probability | Impact | Score | Priority |
|---------|-------------|----------|-------------|--------|-------|----------|
| TECH-001| Incompatible dimensions | Technical | Low (1) | High (3) | 3 | Low |
| TECH-002| Missing prefix for LiteLLM | Technical | Low (1) | Medium (2) | 2 | Low |
| SEC-001 | Secret data in vectors | Security | Medium (2) | Medium (2) | 4 | Medium |

## Risk-Based Testing Strategy

### Priority 1: Model Compatibility
- **Validation**: Fixed an issue where the model name `models/text-embedding-004` lacked the `gemini/` prefix for LiteLLM.
- **Verification**: Confirmed successful 768-dimension embedding generation.

### Priority 2: Security & Privacy
- **Observation**: All conversation data is converted to vectors. If a user shares a password, it's stored in the vector store.
- **Mitigation**: Agents should be instructed via system prompts to avoid recalling or searching for sensitive user credentials unless necessary.

## Risk Acceptance Criteria

### Must Fix Before Production
None.

### Can Deploy with Mitigation
- **SEC-001**: Vectors are stored in an internal, password-protected SurrealDB instance.
