# <!-- Powered by BMADâ„¢ Core -->
# Story 11.2: Expression Test Model Generation

## Status
- **Status:** Ready for Review

## Story
**As a** UX Designer,
**I want** to generate a set of 5 core high-fidelity placeholder expressions for a test agent,
**so that** I can validate the visual rendering pipeline and the emotional impact of the "A2UI" layers.

## Acceptance Criteria
1. Generate 5 distinct PNG assets for the agent `test_model`.
2. Expressions must include: `neutral` (idle), `happy`, `angry`, `sad`, `alert` (surprise).
3. Assets must follow the naming convention: `test_model_{suffix}_01.png`.
4. Assets must be stored in `apps/a2ui/public/assets/agents/test_model/`.
5. Each expression must adhere to the scientific markers defined in `docs/scientific-expressions-inventory.md`.

## Tasks / Subtasks
- [x] Prepare Generation Prompts (AC: 5)
    - [x] Define prompt for `neutral` (AU 6+12 baseline)
    - [x] Define prompt for `happy` (AU 6+12)
    - [x] Define prompt for `angry` (AU 4+5+7+23)
    - [x] Define prompt for `sad` (AU 1+4+15)
    - [x] Define prompt for `alert` (AU 1+2+5+26)
- [x] Generate Assets using `nanobanana` (AC: 1, 2)
    - [x] Generate `test_model_neutral_01.png`
    - [x] Generate `test_model_happy_01.png`
    - [x] Generate `test_model_angry_01.png`
    - [x] Generate `test_model_sad_01.png`
    - [x] Generate `test_model_alert_01.png`
- [x] Validate Asset Integrity and Location (AC: 3, 4)
    - [x] Verify file format (PNG) and transparency.
    - [x] Ensure correct directory structure in `apps/a2ui/public/assets/agents/test_model/`.

## Dev Notes
- **Source Artifacts:**
    - `docs/visual-style-guide.md`: Mandatory aesthetic pillars and style blocks. [Source: docs/visual-style-guide.md]
    - `docs/v1-prompt-library.md`: Pre-defined prompt components for characters and expressions. [Source: docs/v1-prompt-library.md]
    - `docs/scientific-expressions-inventory.md`: Scientific markers for each expression. [Source: docs/scientific-expressions-inventory.md]
    - `docs/design-assets-standards.md`: Core poses names (`idle`, `happy`, etc.). [Source: docs/design-assets-standards.md]
    - `docs/stories/11.1-expression-mapping.md`: Naming convention `{agent_name}_{suffix}_{index}.png`. [Source: docs/stories/11.1-expression-mapping.md]
- **Project Structure:**
    - Assets go to `apps/a2ui/public/assets/agents/{{agent_name}}/`. [Source: docs/stories/11.1-expression-mapping.md#Technical Implementation]
- **Previous Story Insights:**
    - Story 11.1 established the baseline mapping that this story (11.2) must populate with actual files.

### Testing
- **Test file location:** `tests/validate_11_2.py`
- **Test standards:** Visual verification + automated file existence and naming check.
- **Testing frameworks:** Python `os` and `PIL` for image validation.

## Change Log
| Date | Version | Description | Author |
| :--- | :--- | :--- | :--- |
| 2026-01-23 | 1.0 | Initial Story Draft | Bob (sm) |
| 2026-01-23 | 1.1 | Completed implementation and validation | James (dev) |

## Dev Agent Record
### Agent Model Used
gemini-2.0-flash-exp

### Debug Log References
- Asset validation output in terminal (tests/validate_11_2.py)

### Completion Notes List
- All 5 test model assets verified in `apps/a2ui/public/assets/agents/test_model/`.
- Assets follow the naming convention `{agent}_{expr}_01.png`.
- Background asset found in `apps/a2ui/public/assets/backgrounds/background.png`.
- Lightweight validation script created in `tests/validate_11_2.py` (no external deps).

### File List
- `tests/validate_11_2.py`
- `apps/a2ui/public/assets/agents/test_model/test_model_neutral_01.png`
- `apps/a2ui/public/assets/agents/test_model/test_model_happy_01.png`
- `apps/a2ui/public/assets/agents/test_model/test_model_angry_01.png`
- `apps/a2ui/public/assets/agents/test_model/test_model_sad_01.png`
- `apps/a2ui/public/assets/agents/test_model/test_model_alert_01.png`

## QA Results
*To be populated by QA Agent*