# Story 6.2: Historique de conversation (Message Bubbles)

**Status:** Approved
**Story:**
**As a** User,
**I want** to see previous messages in a scrollable list,
**so that** I can follow the thread of complex discussions.

## Acceptance Criteria
1.  Un conteneur `#chat-history` est ajouté à l'interface.
2.  Chaque message (Utilisateur ou Agent) est affiché sous forme de bulle distincte.
3.  Support de la distinction visuelle (ex: Aligné à gauche pour agents, à droite pour utilisateur).
4.  L'historique défile automatiquement vers le bas lors de la réception d'un nouveau message.
5.  Les messages de type `narrative.chunk` mettent à jour la dernière bulle active (Streaming aware).

## Tasks / Subtasks
- [ ] Task 1: History UI (AC: 1, 3)
    - [ ] Créer le conteneur scrollable dans `index.html`.
    - [ ] Définir les styles pour les classes `.bubble-user` et `.bubble-agent`.
- [ ] Task 2: Logic integration (AC: 2, 4)
    - [ ] Modifier `Renderer.js` pour ajouter des éléments au lieu de simplement remplacer `textContent`.
- [ ] Task 3: Streaming Support (AC: 5)
    - [ ] S'assurer que les chunks complètent la bulle existante sans en créer une nouvelle à chaque token.

## Dev Notes
**Technical Context from Architecture:**

*   **UI Spec:**
    - Source: `docs/project-documentation.md#frontend-a2ui---v2-omnichannel`
    - "Transparent overlay for scrollable history".

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2026-01-21 | 1.0 | Initial draft | Bob (SM) |
